<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Visualizing Data</title>
    <meta charset="utf-8" />
    <meta name="author" content="Dr.Â Mine Dogucu" />
    <meta name="date" content="2022-07-13" />
    <script src="libs/header-attrs-2.14/header-attrs.js"></script>
    <link href="libs/panelset-0.2.6/panelset.css" rel="stylesheet" />
    <script src="libs/panelset-0.2.6/panelset.js"></script>
    <link rel="stylesheet" href="slide-style.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">


class: title-slide

&lt;br&gt;
&lt;br&gt;

# Visualizing Data
## Dr. Mine Dogucu
### ISI-BUDS
### 2022-07-13

---




class: middle

[Limbo Lines: Dead Here, Alive There](https://pudding.cool/2018/02/death/)

[Anxiety: It Gets Worse, Then It Gets Better](https://www.instagram.com/p/B4U81DJlqTG/)

[The Wealth &amp; Health of Nations](https://observablehq.com/@mbostock/the-wealth-health-of-nations)


---

class: middle

Data Visualizations

- are graphical representations of data

--

- use different colors, shapes, and the coordinate system to summarize data

--

- tell a story

--

- are useful for exploring data


---

class:inverse middle

.font75[Visuals with a Single Categorical Variable]

---

## Bar plot

.pull-left[

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-2-1.png" style="display: block; margin: auto;" /&gt;

]

.pull-right[

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-3-1.png" style="display: block; margin: auto;" /&gt;
]

---

class:inverse middle

.font75[Visuals with a Single Numeric Variable]

---

## Box plot

.pull-left[

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-4-1.png" style="display: block; margin: auto;" /&gt;


]

.pull-right[

- The horizontal line inside the box represents the median.
- The box itself represents the middle 50% of the data with Q3 on the upper end and Q1 on the lower end. 
- Whiskers extend from the box. They can extend up to 1.5 IQR away from the box (i.e. away from Q1 and Q3). 
- The points are potential outliers that represent babies with really low or high birth weight.

]

---

## Histogram

.pull-left[

Bin width = 5 ounces

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-5-1.png" style="display: block; margin: auto;" /&gt;

]

.pull-right[

Bin width = 20 ounces


&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-6-1.png" style="display: block; margin: auto;" /&gt;

]

---

class: middle

[Exploring Histograms Interactively](http://tinlizzie.org/histograms/)

---

class: middle center

[There is no "best" number of bins](https://en.wikipedia.org/wiki/Histogram#Number_of_bins_and_width)

---

class: middle

## Etymology


__histo__ comes from the Greek word _histos_ that literally means "anything set up right".

__gram__: comes from the Greek word _gramma_ which means "that which is drawn".

.footnote[Online Etymology Dictionary]

---

## Histogram vs. boxplot

.pull-left[

![](03c-visualizing-data_files/figure-html/unnamed-chunk-7-1.gif)&lt;!-- --&gt;

Tail tells the tale.

]


.pull-right[
![](03c-visualizing-data_files/figure-html/unnamed-chunk-8-1.gif)&lt;!-- --&gt;

]

---

class: middle

## In pairs

Discuss:

- In right-skewed distributions mean &gt; median, true or false?
- In left-skewed distributions mean &gt; median, true or false?

---

class: middle

## Density plot

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-9-1.png" style="display: block; margin: auto;" /&gt;


---

class: inverse middle center

.font75[Visuals with Two Categorical Variables]

---

class: middle 

## Standardized Bar Plot

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-10-1.png" style="display: block; margin: auto;" /&gt;

---

class: middle

## Dodged Bar Plot

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-11-1.png" style="display: block; margin: auto;" /&gt;


---

class: middle inverse

.font75[Visuals with a single numerical and single categorical variable.]



---

## Side-by-side box plots

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-12-1.png" style="display: block; margin: auto;" /&gt;

---


class: middle

## Violin Plots

.pull-left[
![](03c-visualizing-data_files/figure-html/unnamed-chunk-13-1.png)&lt;!-- --&gt;

]

.pull-right[

![](03c-visualizing-data_files/figure-html/unnamed-chunk-14-1.png)&lt;!-- --&gt;

]

---

class: inverse middle

.font75[Visuals with Two Numerical Variables]


---

## Scatter plots

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-15-1.png" style="display: block; margin: auto;" /&gt;

Length of gestation can **possibly** eXplain a baby's birth weight. 
Gestation is the eXplanatory variable and is shown on the x-axis.
Birth weight is the response variable and is shown on the y-axis.

---

## Linear Relationship

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-16-1.png" style="display: block; margin: auto;" /&gt;

Later on we will start statistical modeling during which we will numerically define the relationship between gestation and birth weight. 
For now we can say that this relationship looks positive and moderate.


---

class: middle

__gg__plot is based on __g__rammar of __g__raphics.

&lt;img src="img/grammar_graphics.jpeg" width="237" /&gt;

---

## Data


```r
glimpse(babies)
```

```
## Rows: 1,236
## Columns: 8
## $ case      &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 1â€¦
## $ bwt       &lt;int&gt; 120, 113, 128, 123, 108, 136, 138, 132, 120, 143, 140, 144, â€¦
## $ gestation &lt;int&gt; 284, 282, 279, NA, 282, 286, 244, 245, 289, 299, 351, 282, 2â€¦
## $ parity    &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSâ€¦
## $ age       &lt;int&gt; 27, 33, 28, 36, 23, 25, 33, 23, 25, 30, 27, 32, 23, 36, 30, â€¦
## $ height    &lt;int&gt; 62, 64, 64, 69, 67, 62, 62, 65, 62, 66, 68, 64, 63, 61, 63, â€¦
## $ weight    &lt;int&gt; 100, 135, 115, 190, 125, 93, 178, 140, 125, 136, 120, 124, 1â€¦
## $ smoke     &lt;lgl&gt; FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE,â€¦
```

.footnote[The data frame has been cleaned for you.]

---

class:inverse middle

.font75[Visualizing a Single Categorical Variable]

---

class: middle

.left-panel[
&lt;br&gt;
&lt;br&gt;
If you could speak to R in English, how would you tell R to make this plot for you?

OR

If you had the data and had to draw this bar plot by hand, what would you do?

]

.right-panel[

![](03c-visualizing-data_files/figure-html/unnamed-chunk-19-1.png)&lt;!-- --&gt;
]

---

class: middle

**3 Steps of Making a Basic ggplot**

1.Pick data

2.Map data onto aesthetics


3.Add the geometric layer



---
class: middle

### Step 1 - Pick Data

.pull-left[

```r
ggplot(data = babies)
```
]

.pull-right[

![](03c-visualizing-data_files/figure-html/unnamed-chunk-21-1.png)&lt;!-- --&gt;

]

---

class: middle

### Step 2 - Map Data to Aesthetics

.pull-left[

```r
ggplot(data = babies,
*      aes(x = smoke))
```
]

.pull-right[

![](03c-visualizing-data_files/figure-html/unnamed-chunk-23-1.png)&lt;!-- --&gt;

]

---

class: middle

### Step 3 - Add the Geometric Layer

.pull-left[

```r
ggplot(data = babies,
       aes(x = smoke)) +
* geom_bar()
```
]

.pull-right[

![](03c-visualizing-data_files/figure-html/unnamed-chunk-25-1.png)&lt;!-- --&gt;
]
---

class: middle 

.panelset[

.panel[
.panel-name[Plot]
&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-26-1.png" style="display: block; margin: auto;" /&gt;

]

.panel[
.panel-name[English]

- Create a ggplot using the `babies` data frame.
- Map the `smoke` to the x-axis. 
- Add a layer of a bar plot.

]

.panel[
.panel-name[R]

```r
ggplot(data = babies,
       aes(x = smoke)) +
  geom_bar()
```

]

]
---

class:inverse middle

.font75[Visualizing a Single Numeric Variable]

---

class: middle

.panelset[

.panel[
.panel-name[Plot]

```
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
```

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-28-1.png" style="display: block; margin: auto;" /&gt;

]

.panel[
.panel-name[English]

- Create a ggplot using the `babies` data frame.
- Map the `bwt` to the x-axis. 
- Add a layer of a histogram.

]

.panel[
.panel-name[R]

```r
ggplot(data = babies,
       aes(x = bwt)) +
  geom_histogram() 
```

]

]

---
class: middle

### Step 1 - Pick Data

.pull-left[

```r
ggplot(data = babies)
```
]

.pull-right[

![](03c-visualizing-data_files/figure-html/unnamed-chunk-31-1.png)&lt;!-- --&gt;

]

---

class: middle

### Step 2 - Map Data to Aesthetics

.pull-left[

```r
ggplot(data = babies,
*      aes(x = bwt))
```
]

.pull-right[

![](03c-visualizing-data_files/figure-html/unnamed-chunk-33-1.png)&lt;!-- --&gt;

]

---

class: middle

### Step 3 - Add the Geometric Layer

.pull-left[

```r
ggplot(data = babies,
       aes(x = bwt)) +
* geom_histogram()
```
]

.pull-right[


```
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
```

![](03c-visualizing-data_files/figure-html/unnamed-chunk-35-1.png)&lt;!-- --&gt;
]

---

## What is this warning?


```
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
```

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-36-1.png" style="display: block; margin: auto;" /&gt;

---



```r
ggplot(data = babies,
       aes(x = bwt)) +
* geom_histogram(binwidth = 5)
```

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-37-1.png" style="display: block; margin: auto;" /&gt;


---

class: middle


.panelset[
.panel[.panel-name[binwidth = 5]

.left-panel[


]

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-38-1.png" style="display: block; margin: auto;" /&gt;

]

.panel[.panel-name[binwidth = 30]

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-39-1.png" style="display: block; margin: auto;" /&gt;

]

.panel[.panel-name[binwidth = 100]

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-40-1.png" style="display: block; margin: auto;" /&gt;

]


]

---

class: middle center

[There is no "best" number of bins](https://en.wikipedia.org/wiki/Histogram#Number_of_bins_and_width)


---

class: middle center


.font150[
ðŸŒˆ
] 

Pick your favorite color(s) from the list at:

[bit.ly/colors-r](https://bit.ly/colors-r)

---


```r
ggplot(data = babies,
       aes(x = bwt)) +
  geom_histogram(binwidth = 15, 
*                color = "white")
```

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-41-1.png" style="display: block; margin: auto;" /&gt;

---


```r
ggplot(data = babies,
       aes(x = bwt)) +
  geom_histogram(binwidth = 15, 
*                fill = "darkred")
```

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-42-1.png" style="display: block; margin: auto;" /&gt;

---


```r
ggplot(data = babies,
       aes(x = bwt)) +
  geom_histogram(binwidth = 15, 
*                color = "white",
*                fill = "darkred")
```

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-43-1.png" style="display: block; margin: auto;" /&gt;

---

class: inverse middle center

.font75[Visualizing Two Categorical Variables]

---

## Stacked Bar-Plot

.pull-left[


```r
ggplot(data = babies,
       aes(x = smoke, 
*          fill = parity)) +
  geom_bar() 
```
]

.pull-right[

![](03c-visualizing-data_files/figure-html/unnamed-chunk-45-1.png)&lt;!-- --&gt;
]

---

## Standardized Bar Plot

.pull-left[


```r
ggplot(data = babies,
       aes(x = smoke, 
           fill = parity)) + 
* geom_bar(position = "fill")
```
]

.pull-right[

![](03c-visualizing-data_files/figure-html/unnamed-chunk-47-1.png)&lt;!-- --&gt;
]

.footnote[Note that y-axis is no longer count but we will learn how to change that later.]

---

## Dodged Bar Plot

.pull-left[


```r
ggplot(data = babies,
       aes(x = smoke, 
           fill = parity)) + 
* geom_bar(position = "dodge")
```
]

.pull-right[

![](03c-visualizing-data_files/figure-html/unnamed-chunk-49-1.png)&lt;!-- --&gt;
]

.footnote[Note that y-axis is no longer count but we will change that later.]


---

## New Data

&lt;img src="img/penguins.png" width="667" style="display: block; margin: auto;" /&gt;

.footnote[Artwork by [@allison_horst](https://twitter.com/allison_horst) ]

---

## New Data


```r
glimpse(penguins)
```

```
## Rows: 344
## Columns: 8
## $ species           &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adelâ€¦
## $ island            &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgerseâ€¦
## $ bill_length_mm    &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, â€¦
## $ bill_depth_mm     &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, â€¦
## $ flipper_length_mm &lt;int&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186â€¦
## $ body_mass_g       &lt;int&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, â€¦
## $ sex               &lt;fct&gt; male, female, female, NA, female, male, female, maleâ€¦
## $ year              &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007â€¦
```

---

&lt;img src="img/penguin_bill.png" width="1036" style="display: block; margin: auto;" /&gt;

.footnote[Artwork by [@allison_horst](https://twitter.com/allison_horst) ]


---

class: middle inverse

.font75[Visualizing a single numerical and single categorical variable.]

---

class: middle 

.panelset[

.panel[
.panel-name[Plot]

```
## Warning: Removed 2 rows containing non-finite values (stat_ydensity).
```

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-53-1.png" style="display: block; margin: auto;" /&gt;

]

.panel[
.panel-name[English]

- Create a ggplot using the `penguins` data frame.
- Map the `species` to the x-axis and `bill_length_mm` to the y-axis. 
- Add a layer of a violin plot.

]

.panel[
.panel-name[R]

```r
ggplot(penguins,
       aes(x = species,
           y = bill_length_mm))  +
  geom_violin()
```

]

]

---


class: middle 

.panelset[

.panel[
.panel-name[Plot]

```
## Warning: Removed 2 rows containing non-finite values (stat_ydensity).
```

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-55-1.png" style="display: block; margin: auto;" /&gt;

]

.panel[
.panel-name[English]

- Create a ggplot using the `penguins` data frame.
- Map the `species` to the x-axis and `bill_length_mm` to the y-axis. 
- Add a layer of a box plot.

]

.panel[
.panel-name[R]

```r
ggplot(penguins,
       aes(x = species,
           y = bill_length_mm))  +
  geom_violin()
```

]

]


---

class: middle

.pull-left[
![](03c-visualizing-data_files/figure-html/unnamed-chunk-57-1.png)&lt;!-- --&gt;

]

.pull-right[
![](03c-visualizing-data_files/figure-html/unnamed-chunk-58-1.png)&lt;!-- --&gt;
]

.footnote[Note: violin plots display densities, not counts!]
---

class: middle

.pull-left[
![](03c-visualizing-data_files/figure-html/unnamed-chunk-59-1.png)&lt;!-- --&gt;

]

.pull-right[
![](03c-visualizing-data_files/figure-html/unnamed-chunk-60-1.png)&lt;!-- --&gt;
]

.footnote[Note: violin plots display densities, not counts!]
---
class: inverse middle

.font75[Visualizing Two Numerical Variables]

---

.left-panel[

```r
ggplot(penguins,
       aes(x = bill_depth_mm,
           y = bill_length_mm))  +
  geom_point()
```

]

.right-panel[

```
## Warning: Removed 2 rows containing missing values (geom_point).
```

![](03c-visualizing-data_files/figure-html/unnamed-chunk-62-1.png)&lt;!-- --&gt;

]

---
class: middle inverse

.font75[Considering More Than Two Variables]

---

.left-panel[

```r
ggplot(penguins,
       aes(x = bill_depth_mm,
           y = bill_length_mm,
           color = species)) +
  geom_point()
```

]

.right-panel[

```
## Warning: Removed 2 rows containing missing values (geom_point).
```

![](03c-visualizing-data_files/figure-html/unnamed-chunk-64-1.png)&lt;!-- --&gt;

]


---
.left-panel[

```r
ggplot(penguins,
       aes(x = bill_depth_mm,
           y = bill_length_mm,
           shape = species)) +
  geom_point()
```

]

.right-panel[

```
## Warning: Removed 2 rows containing missing values (geom_point).
```

![](03c-visualizing-data_files/figure-html/unnamed-chunk-66-1.png)&lt;!-- --&gt;

]

---



.left-panel[

```r
ggplot(penguins,
       aes(x = bill_depth_mm,
           y = bill_length_mm,
           shape = species)) +
  geom_point()
```

]

.right-panel[

```
## Warning: Removed 2 rows containing missing values (geom_point).
```

![](03c-visualizing-data_files/figure-html/unnamed-chunk-68-1.png)&lt;!-- --&gt;

]

---

.left-panel[

```r
ggplot(penguins,
       aes(x = bill_depth_mm,
           y = bill_length_mm,
           shape = species,
           color = species)) +
  geom_point()
```

]

.right-panel[

```
## Warning: Removed 2 rows containing missing values (geom_point).
```

![](03c-visualizing-data_files/figure-html/unnamed-chunk-70-1.png)&lt;!-- --&gt;

]


---

.left-panel[

```r
ggplot(penguins,
       aes(x = bill_depth_mm,
           y = bill_length_mm,
           shape = species,
           color = species,
           size = body_mass_g)) +
  geom_point()
```

]

.right-panel[

```
## Warning: Removed 2 rows containing missing values (geom_point).
```

![](03c-visualizing-data_files/figure-html/unnamed-chunk-72-1.png)&lt;!-- --&gt;
]
---

&lt;img src="img/ggplot-summary.jpeg" width="95%" /&gt;

---

class: middle 
 

.panelset[
.panel[

.panel-name[Plot]

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-74-1.png" style="display: block; margin: auto;" /&gt;

]

.panel[

.panel-name[English]
- Using the `penguins` data,   
- Map `bill depth` to x-axis, `bill length` to y-axis, `species` to shape and color.
- Add a layer of points and set the size of the points to 4.
]

.panel[
.panel-name[R]

```r
ggplot(penguins,
       aes(x = bill_depth_mm,
           y = bill_length_mm,
           shape = species,
           color = species)) +
  geom_point(size = 4) 
```

]

]


---

class: middle 

## Labs


.panelset[
.panel[

.panel-name[Plot]

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-76-1.png" style="display: block; margin: auto;" /&gt;

]

.panel[

.panel-name[English]
- Using the `penguins` data,   
- Map `bill depth` to x-axis, `bill length` to y-axis, `species` to shape.
- Add a layer of points and set the size of the points to 4.
- .highlight-text[Add labels to x-axis (Bill Depth(mm)), y-axis (Bill Length(mm)), and the title of the plot (Palmer Penguins).]



.panel[
.panel-name[R]

```r
ggplot(penguins,
       aes(x = bill_depth_mm,
           y = bill_length_mm,
           shape = species,
           color = species)) +
  geom_point(size = 4) +
* labs(x = "Bill Depth (mm)",
*      y = "Bill Length (mm)",
*      title = "Palmer Penguins")
```

]

]



]

---

class: middle

.left-panel[

```r
ggplot(penguins,
       aes(x = bill_depth_mm,
           y = bill_length_mm,
           shape = species,
           color = species)) +
  geom_point() +
  labs(x = "Bill Depth (mm)", 
       y = "Bill Length (mm)", 
       title = "Palmer Penguins") +
* theme_bw()
```

]

.right-panel[
![](03c-visualizing-data_files/figure-html/unnamed-chunk-79-1.png)&lt;!-- --&gt;

]

---

class: middle

## Themes

.panelset[


.panel[

.panel-name[`theme_gray()`]

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-80-1.png" style="display: block; margin: auto;" /&gt;

]

.panel[

.panel-name[`theme_bw()`]

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-81-1.png" style="display: block; margin: auto;" /&gt;

]

.panel[

.panel-name[`theme_classic()`]

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-82-1.png" style="display: block; margin: auto;" /&gt;

]

.panel[

.panel-name[`theme_dark()`]

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-83-1.png" style="display: block; margin: auto;" /&gt;

]

.panel[
.panel-name[`theme_minimal()`]

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-84-1.png" style="display: block; margin: auto;" /&gt;

]


.panel[
.panel-name[`theme_void()`]

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-85-1.png" style="display: block; margin: auto;" /&gt;

]
]

---

class: middle 

.left-panel[


```r
ggplot(penguins,
       aes(x = bill_depth_mm,
           y = bill_length_mm,
           shape = species,
           color = species)) +
  geom_point() +
  labs(x = "Bill Depth (mm)", 
       y = "Bill Length (mm)", 
       title = "Palmer Penguins") +
  theme_bw() +
* theme(text = element_text(size=20))
```

]

.right-panel[

![](03c-visualizing-data_files/figure-html/unnamed-chunk-87-1.png)&lt;!-- --&gt;
]


---

class: middle


```r
?theme
```

[A blog post on theme elements](https://cmdlinetips.com/2021/05/tips-to-customize-text-color-font-size-in-ggplot2-with-element_text/)

---

class: middle 
 

.left-panel[


```r
ggplot(penguins,
       aes(x = bill_depth_mm,
           y = bill_length_mm,
           shape = species,
           color = species)) +
  geom_point(size = 4) +
* facet_grid(.~species)
```

]

.right-panel[
&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-90-1.png" style="display: block; margin: auto;" /&gt;
]

---

class: middle 
 

.left-panel[


```r
ggplot(penguins,
       aes(x = bill_depth_mm,
           y = bill_length_mm,
           shape = species,
           color = species)) +
  geom_point(size = 4) +
* facet_grid(species~.)
```

]

.right-panel[
&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-92-1.png" style="display: block; margin: auto;" /&gt;
]

---

class: middle

.left-panel[

```r
ggplot(penguins,
       aes(x = bill_depth_mm,
           y = bill_length_mm)) +
  geom_point() +
* xlim(0, 30) +
* ylim(0, 70)
```

]

.right-panel[
![](03c-visualizing-data_files/figure-html/unnamed-chunk-94-1.png)&lt;!-- --&gt;

]


---

class: middle

[Top Ten Dos and Don't for Charts and Graphs](https://guides.lib.uci.edu/datavis/do)

---

class: middle

Check out [the ggplot flipbook](https://evamaerey.github.io/ggplot_flipbook/ggplot_flipbook_xaringan.html#1) for some inspiration. 
Find your favorite new function/feature. 
Share it with your neighbor.


---

class: middle 




```r
library(maps)
usa &lt;- map_data("usa")
glimpse(usa)
```

```
## Rows: 7,243
## Columns: 6
## $ long      &lt;dbl&gt; -101.4078, -101.3906, -101.3620, -101.3505, -101.3219, -101.â€¦
## $ lat       &lt;dbl&gt; 29.74224, 29.74224, 29.65056, 29.63911, 29.63338, 29.64484, â€¦
## $ group     &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, â€¦
## $ order     &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 1â€¦
## $ region    &lt;chr&gt; "main", "main", "main", "main", "main", "main", "main", "maiâ€¦
## $ subregion &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, â€¦
```

---

.pull-left[
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

```r
ggplot(data = usa,
       aes(x = long, 
           y = lat)) 
```
]

.pull-right[

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-98-1.png" style="display: block; margin: auto;" /&gt;
]
---
.pull-left[
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

```r
ggplot(data = usa,
       aes(x = long, 
           y = lat)) + 
  geom_polygon() 
```
]

.pull-right[

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-100-1.png" style="display: block; margin: auto;" /&gt;
]

---

class: middle

.pull-left[
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

```r
ggplot(data = usa,
       aes(x = long, 
           y = lat)) + 
  geom_polygon() + 
  coord_fixed(1.4)
```
]

.pull-right[

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-102-1.png" style="display: block; margin: auto;" /&gt;
]
---
.pull-left[
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

```r
ggplot(data = usa,
       aes(x = long, 
           y = lat)) + 
  geom_polygon(fill = NA,
               color = "steelblue") + 
  coord_fixed(1.4)
```
]

.pull-right[

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-104-1.png" style="display: block; margin: auto;" /&gt;
]

---

class: middle

.pull-left[
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

```r
ggplot(data = usa,
       aes(x = long, 
           y = lat)) + 
  geom_polygon(fill = NA, 
               color = "steelblue",
               aes(group = group))  + 
  coord_fixed(1.4)
```
]

.pull-right[

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-106-1.png" style="display: block; margin: auto;" /&gt;
]

---

class: middle


```r
location &lt;- c("Northampton", "Columbus", "Sarasota","Irvine" )
  
long &lt;- c(-72.6412, -82.998795, -82.538602, -117.824719)
lat &lt;- c(42.3251, 39.961178, 27.336483, 33.685908)
pop &lt;- c(28726, 892533, 57738, 282572)
         
home &lt;- tibble::tibble(location = location,
                 lat = lat,
                 long = long,
                 pop = pop)
```

---

class: middle


```r
home
```

```
## # A tibble: 4 Ã— 4
##   location      lat   long    pop
##   &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1 Northampton  42.3  -72.6  28726
## 2 Columbus     40.0  -83.0 892533
## 3 Sarasota     27.3  -82.5  57738
## 4 Irvine       33.7 -118.  282572
```

---

.pull-left[
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

```r
usa_map &lt;- 
  ggplot(data = usa,
         aes(x = long, 
             y = lat)) + 
  geom_polygon(fill = NA, color = "steelblue",
               aes(group = group)) + 
  coord_fixed(1.4)
```
]

.pull-right[


]


---

.pull-left[
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

```r
usa_map +
  geom_point(data = home, 
             aes(x = long,
                 y = lat, 
                 color = pop))
```
]

.pull-right[

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-112-1.png" style="display: block; margin: auto;" /&gt;
]

---

.pull-left[
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

```r
usa_map +
  geom_point(data = home, 
             aes(x = long,
                 y = lat, 
                 size = pop))
```
]

.pull-right[

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-114-1.png" style="display: block; margin: auto;" /&gt;
]

---

class: middle 

.pull-left[
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

```r
states &lt;- map_data("state")
ggplot(data = states,
       aes(x = long, 
           y = lat,
           fill = region)) + 
  geom_polygon(aes(group = group))  + 
  coord_fixed(1.4) +
  guides(fill = "none")
```
]

.pull-right[

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-116-1.png" style="display: block; margin: auto;" /&gt;
]


---

class: middle 

`library(sf)`

[Maps Chapter from ggplot2 book](https://ggplot2-book.org/maps.html)


---
class: middle center inverse

.font75[ggplot extensions]

---

class: middle 

- [`patchwork`](https://patchwork.data-imaginist.com/) combining plots into a single plot
- [`gganimate`](https://gganimate.com/) animated graphics
- [`ggthemes`](https://rafalab.github.io/dsbook/ggplot2.html#add-on-packages) additional set of themes
- [`ggtext`](https://wilkelab.org/ggtext/) improved text rendering support for ggplot2
- [`ggdag`](https://ggdag.malco.io/) Causal directed acyclic graphs (DAGs)
- [`survminer`](https://rpkgs.datanovia.com/survminer/index.html) survival analysis and visualization
- [`gggenes`](https://wilkox.org/gggenes/) gene arrow maps

There are [more extensions](https://exts.ggplot2.tidyverse.org/gallery/).
---

class: middle center inverse

.font75[Making Accessible Visualizations]

---

class: middle

[Color blindness simulation](https://www.color-blindness.com/coblis-color-blindness-simulator/): red-blind/protanopia

&lt;img src="img/red-blind.png" width="60%" style="display: block; margin: auto;" /&gt;

---

class: middle

[Color blindness simulation](https://www.color-blindness.com/coblis-color-blindness-simulator/): green-blind/deuteranopia

&lt;img src="img/green-blind.png" width="60%" style="display: block; margin: auto;" /&gt;


---

class: middle

[Color blindness simulation](https://www.color-blindness.com/coblis-color-blindness-simulator/): blue-blind/tritanopia

&lt;img src="img/blue-blind.png" width="60%" style="display: block; margin: auto;" /&gt;

---

class: middle 


```r
palette.colors(palette = "Okabe-Ito")
```

```
##         black        orange       skyblue   bluishgreen        yellow 
##     "#000000"     "#E69F00"     "#56B4E9"     "#009E73"     "#F0E442" 
##          blue    vermillion reddishpurple          gray 
##     "#0072B2"     "#D55E00"     "#CC79A7"     "#999999"
```

[Okabe-Ito color palette](https://jfly.uni-koeln.de/color/) allows us to make figures that are colorblind friendly.
You can use the HEX code printed for selecting colors.
---

class: middle

.left-panel[

```r
ggplot(penguins,
       aes(x = bill_depth_mm,
           y = bill_length_mm,
           shape = species,
           color = species)) +
  geom_point(size = 4) +
  facet_grid(species~.) +
* scale_color_manual(values =
*                     c("#E69F00",
*                       "#009E73",
*                       "#56B4E9"))
```

]

.right-panel[
![](03c-visualizing-data_files/figure-html/unnamed-chunk-122-1.png)&lt;!-- --&gt;

]

---

class: middle


```r
p &lt;- ggplot(penguins,
       aes(x = bill_depth_mm,
           y = bill_length_mm,
           shape = species,
           color = species)) +
  geom_point(size = 4) +
  facet_grid(species~.)
```


---

class: middle


```r
colorblindr::cvd_grid(p)
```

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-124-1.png" style="display: block; margin: auto;" /&gt;


---

class: middle



```r
p +
  colorblindr::scale_color_OkabeIto()
```

&lt;img src="03c-visualizing-data_files/figure-html/unnamed-chunk-125-1.png" style="display: block; margin: auto;" /&gt;


---

class: middle 

## Detour: R Markdown chunk options

```{r, echo=TRUE, message=FALSE}
```

---


class: center middle 

## (some) Chunk Options in R Markdown

&lt;table align = "center"&gt;

&lt;tr&gt;

&lt;td&gt;echo = FALSE&lt;/td&gt;
&lt;td&gt;hides the code&lt;/td&gt;

&lt;/tr&gt;

&lt;tr&gt;

&lt;td&gt;message = FALSE&lt;/td&gt;
&lt;td&gt;hides messages&lt;/td&gt;

&lt;/tr&gt;

&lt;tr&gt;

&lt;td&gt;warning = FALSE&lt;/td&gt;
&lt;td&gt;hides warning&lt;/td&gt;

&lt;/tr&gt;

&lt;tr&gt;

&lt;td&gt;error = TRUE&lt;/td&gt;
&lt;td&gt;renders despite errors and displays the error&lt;/td&gt;

&lt;/tr&gt;

&lt;tr&gt;

&lt;td&gt;fig.cap = "Some figure caption"&lt;/td&gt;
&lt;td&gt;creates a figure caption&lt;/td&gt;

&lt;/tr&gt;

&lt;tr&gt;

&lt;td&gt;fig.alt = "Some alternate text for figure"&lt;/td&gt;
&lt;td&gt;creates alternate text for figures&lt;/td&gt;

&lt;/tr&gt;



&lt;/table&gt;


---

class: middle 

## Alternate Text

"Alt text" describes contents of an image. 
It is used in HTML pages such as the R Markdown outputs we have been writing. 
Screen-readers cannot read images but can read alt text.
Alt text has to be provided and cannot magically appear. 


---

class: middle

## Potential Content of Alternate Text for Data Visualization

1. Data source/frame
2. Variables and axes information including units
3. The plot type
4. The message that the plot conveys.
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "pygments",
"highlightLines": true,
"highlightLanguage": "r"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
